<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <h1>
    Задача №2
  </h1>
  <p>
    Задача 1. Створити об’єкт «Тир». У масиві зберігаються 1, якщо у цьому квадраті є заєць і 0 в іншому випадку.
    Тир
    Поля(властивості) Масив, у якому зберігається поле з зайцями
    Методи (дії) Метод пострілу (задається позиція пострілу)
    Виведення ігрового поля

  </p>
  <script>
    // Задача 1. Створити об’єкт «Тир».
    // У масиві зберігаються 1, якщо у цьому квадраті є заєць і 0 в іншому випадку.
    //   Тир
    // Поля(властивості)
    	// Масив, у якому зберігається поле з зайцями
    // Методи(дії)
    	// Метод пострілу(задається позиція пострілу)
    // Виведення ігрового поля


    class Tier {
      constructor(fieldLength = 12, rabbits = 2) {
        // Поля(властивості)
        // Масив, у якому зберігається поле з зайцями
        this.field = this.field(fieldLength, rabbits)
        this.shot = this.userShot(rabbits)
        this.show = this.outputField()
      }

      randomRabbitsPosition(field, rabbits) {
        for (let i = 0; i < rabbits;) {
          const rabbitPosition = Math.floor(Math.random() * field.length)
          if (field[rabbitPosition] === 1) {
            field[rabbitPosition] = 0
            i++
          }
        }
        return field
      }
      field(fieldLength, rabbits) {
        let field = new Array(fieldLength).fill(1)
        this.randomRabbitsPosition(field, rabbits)
        return field
      }

      // Методи(дії)
      // Метод пострілу(задається позиція пострілу)
      userShot(rabbits) {
        let shot = true
        do {
          shot = parseInt(prompt(`Виберіть позицію для пострілу від 0-${this.field.length}`))
          if (this.field[shot] === 0 && rabbits > 0) {
            --rabbits
            if (rabbits === 0) {
              return alert('Вітаю ви вистежили та впіймали усих зайців в регіоні, тепер ви справжній браконьєр... ')
            } else alert(`Вітаю ви підстрелили одного із зайців залиштлось ${rabbits}`)
          } else alert(`Ви стріляли у  ${shot}, там нема зайця)`)
        }
        while (shot)
      }
      // Виведення ігрового поля
      outputField() {
        document.write('<table> <tbody>')
        let counter = 0
        for (let column = 0; counter < this.field.length; column++) {
          document.write('<tr>')
          for (let row = 0; row < this.field.length / 3; row++) {
            document.write(`<td> ${this.field[counter++]}</td>`)
          }
          document.write('<tr>')
        }
        document.write('<table> <tbody>')

      }
    }


    let game = new Tier()
    console.log(game)
  </script>
</body>

</html>